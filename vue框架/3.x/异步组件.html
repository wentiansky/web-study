<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>watchEffect</title>
</head>
<body>
  <div id="app"></div>
  <script src="../vue@3.0.2.js"></script>
  <script>
    // 异步组件改动点：
    // 1. 使用`defineAsyncComponent()`方法定义；
    // 2. 使用`loader`属性替换`component`；
    import ErrorComponent from './components/ErrorComponent.vue'
    import LoadingComponent from './components/LoadingComponent.vue'

    const asyncPage = Vue.defineAsyncComponent(() => import('./NextPage.vue'))
    const asyncPageWithOption = Vue.defineAsyncComponent({
      loader: () => import('./NextPage.vue'),
      delay: 200,
      timeOut: 3000,
      errorComponent: ErrorComponent,
      LoadingComponent: LoadingComponent
    })
  </script>
</body>
</html>